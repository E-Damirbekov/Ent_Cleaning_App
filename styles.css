/*
  Clean mobile-first stylesheet for the Recycling App
  - Single unified source (no duplicate blocks)
  - rem-based sizes that scale with root font-size
  - safe-area & notch support (viewport-fit=cover required in index.html)
  - responsive bottom navigation with env(safe-area-inset-bottom)
  - CSS variables for easy tuning
*/

/* Root font-size: scale between 14px and 18px depending on viewport width */
html { font-size: clamp(14px, 1.6vw, 18px); box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }
body { margin:0; padding:0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; color: #1f2937; background: linear-gradient(180deg,#f7fdf7,#e9f7ec); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; min-height:100vh; }

:root{
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --nav-height: clamp(3.2rem, 8vw, 4.4rem); /* responsive nav height */
  --nav-icon: 1.6rem;
  --reward-icon: 2rem;
  --gift-icon: 1.6rem;
  --avatar-size: 2.6rem;
  --radius: 0.6rem;
  --accent: #43a047;
}

.app-container { display:flex; flex-direction:column; min-height:100vh; padding-bottom: calc(var(--nav-height) + env(safe-area-inset-bottom)); }
.screens-container { flex:1; display:block; }
.screen { display:none; padding: var(--space-md); }
.screen.active { display:block; }
.screen-content { padding-bottom: var(--space-md); }

/* Header */
.screen-header{ background: linear-gradient(90deg,var(--accent),#388e3c); color:#fff; padding: calc(var(--space-sm) + 0.25rem) var(--space-md); border-radius: 0.4rem; display:flex; align-items:center; justify-content:center; position:relative; }
.screen-header h1{ font-size: 1.3rem; margin:0; font-weight:700; }
.screen-header .subtitle{ font-size:0.9rem; margin-top:0.15rem; opacity:0.95; }
.back-btn{ position:absolute; left:0.6rem; top:50%; transform:translateY(-50%); background: rgba(255,255,255,0.12); color:#fff; border:0; padding:0.45rem 0.6rem; border-radius:0.5rem; font-weight:600; font-size:0.95rem; }

/* Bottom navigation (fixed) - responsive and notch-aware */
.bottom-nav{ position:fixed; left:0; right:0; bottom:0; height:var(--nav-height); padding-bottom: env(safe-area-inset-bottom); display:flex; align-items:center; justify-content:space-around; background:#fff; border-top:1px solid #edf7ee; box-shadow:0 -6px 12px rgba(0,0,0,0.06); z-index:40; }
.nav-btn{ background:transparent; border:0; display:flex; flex-direction:column; align-items:center; justify-content:center; color:#6b7280; padding: calc(var(--space-xs) + 0.2rem) 0.5rem; font-size:0.85rem; min-width:44px; min-height:44px; }
.nav-btn.active{ color: #0b6b2e; }
.nav-icon{ font-size: var(--nav-icon); line-height:1; display:inline-block; }
.nav-label{ font-size:0.7rem; margin-top:0.15rem; }

/* Grids and cards - responsive using minmax/auto-fit */
.stats-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap:0.6rem; margin-bottom:0.9rem; }
.stat-card{ background: linear-gradient(180deg,#4caf50,#66bb6a); color:#fff; padding:0.7rem; border-radius:var(--radius); text-align:center; }
.stat-number{ font-size:1.15rem; font-weight:700; }
.stat-label{ font-size:0.85rem; }

.welcome-section{ background:#f2fff2; border-left:4px solid var(--accent); padding:0.75rem; border-radius:var(--radius); margin-bottom:0.9rem; }
.welcome-section h2{ font-size:1.05rem; margin:0 0 0.25rem 0; }

.quick-actions{ display:flex; gap:0.6rem; flex-direction:column; }
.action-btn{ border:0; border-radius:0.8rem; padding:0.85rem; font-size:1rem; font-weight:700; cursor:pointer; }
.primary-btn{ background: linear-gradient(90deg,var(--accent),#388e3c); color:#fff; }
.secondary-btn{ background:#fff; border:1px solid #dfeee0; color:#2f6b2f; }

/* Map */
.map-container{ width:100%; height:11.5rem; border-radius:0.8rem; background:linear-gradient(180deg,#b3e5fc,#81d4fa); display:flex; align-items:center; justify-content:center; margin-bottom:0.8rem; }
.map-placeholder{ font-size:3rem; color:rgba(255,255,255,0.9); line-height:1; }

.bin-card{ background:#fff; border-radius:0.7rem; padding:0.7rem; margin-bottom:0.6rem; box-shadow:0 6px 10px rgba(0,0,0,0.04); }
.bin-header{ display:flex; justify-content:space-between; align-items:center; gap:0.5rem; }
.bin-header h4{ font-size:1rem; margin:0; }
.distance{ background:#e9f7ec; color:#2e7d32; padding:0.25rem 0.5rem; border-radius:0.6rem; font-weight:700; font-size:0.85rem; }
.bin-address{ font-size:0.9rem; color:#6b7280; margin:0.4rem 0; }
.type-badge{ display:inline-block; background:#f1fff1; color:#2e7d32; padding:0.28rem 0.45rem; border-radius:0.6rem; font-size:0.82rem; }

/* Rewards */
.points-card{ background: linear-gradient(90deg,#ffb74d,#ff9800); color:#fff; padding:0.9rem; border-radius:0.8rem; text-align:center; }
.points-number{ font-size:1.9rem; font-weight:800; }
.rewards-list{ display:grid; gap:0.6rem; margin-top:0.6rem; }
.reward-card{ display:flex; gap:0.6rem; align-items:center; background:#fff; padding:0.6rem; border-radius:0.8rem; box-shadow:0 6px 10px rgba(0,0,0,0.04); }
.reward-icon{ font-size: var(--reward-icon); line-height:1; }
.reward-info h4{ font-size:0.98rem; margin:0 0 0.1rem 0; }
.reward-price{ margin-left:auto; font-weight:700; color:#ff9800; }
.claim-btn{ background:#0b6b2e; color:#fff; padding:0.45rem 0.7rem; border-radius:0.6rem; font-weight:700; }

/* Daily gifts - flexible grid */
.daily-gifts{ display:grid; grid-template-columns: repeat(auto-fit, minmax(92px, 1fr)); gap:0.5rem; margin-top:0.6rem; }
.gift-card{ background:#fff; padding:0.5rem; border-radius:0.8rem; text-align:center; box-shadow:0 6px 10px rgba(0,0,0,0.04); }
.gift-icon{ font-size: var(--gift-icon); margin-bottom:0.25rem; }
.claim-daily-btn{ padding:0.45rem; border-radius:0.6rem; background:#0b6b2e; color:#fff; font-weight:700; }

/* Profile */
.profile-header{ display:flex; gap:0.7rem; align-items:center; background:linear-gradient(90deg,#a5d6a7,#81c784); color:#fff; padding:0.6rem; border-radius:0.8rem; margin-bottom:0.8rem; }
.avatar{ font-size: var(--avatar-size); line-height:1; }
.profile-info h2{ font-size:1rem; margin:0; }
.profile-stats{ display:grid; grid-template-columns: repeat(auto-fit,minmax(120px,1fr)); gap:0.5rem; }
.material-item{ display:flex; justify-content:space-between; padding:0.45rem; background:#fff; border-radius:0.6rem; margin-bottom:0.45rem; }

/* Scrollbar subtle */
::-webkit-scrollbar{ width:6px; }
::-webkit-scrollbar-thumb{ background:#cfead1; border-radius:6px; }

/* Small breakpoints */
@media (max-width: 360px){
  :root{ --nav-icon:1.45rem; --reward-icon:1.75rem; --avatar-size:2.2rem; }
  .nav-label{ font-size:0.65rem; }
}

@media (min-width: 640px){
  /* Small tablets: increase spacing */
  :root{ --space-md:1.2rem; --nav-icon:1.85rem; }
  .screen-header h1{ font-size:1.5rem; }
}

/* Desktop-ish: allow wider cards and columns but keep mobile-first look */
@media (min-width: 1024px){
  .stats-grid{ grid-template-columns: repeat(3, 1fr); }
  .daily-gifts{ grid-template-columns: repeat(5, 1fr); }
}

/* Ensure emoji and icons render consistently */
.app-container .bottom-nav .nav-btn .nav-icon,
.reward-icon, .gift-icon, .map-placeholder, .avatar{ display:inline-block; line-height:1; }

/* Avoid any hard px overrides that previously broke scaling */
/* If you want to tune sizes, adjust the :root variables above */


